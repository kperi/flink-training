<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Local Execution</title>
    <meta name="description" content="Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description.
">

    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">

    <link rel="stylesheet" href="/flink-training/css/main.css">
    <link rel="canonical" href="http://dataartisans.github.io/flink-training/localExec.html">
    <link rel="alternate" type="application/rss+xml" title="Apache Flink Training" href="http://dataartisans.github.io/flink-training/feed.xml" />
  </head>

  <body>
    <nav class="navbar navbar-default">
  <div class="container">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/flink-training/index.html">Apache Flink Training<sup>&reg;</sup></a>
      
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <ul class="nav navbar-nav">
        <li><a href="/flink-training/setup.html">Setup</a></li>
        <li><a href="/flink-training/localExec.html">Local Execution</a></li>
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Exercises<span class="caret"></span></a>
          <ul class="dropdown-menu" role="menu">
            <li><a href="/flink-training/exercises/">Overview</a></li>
            <li class="divider"></li>
            <li><a href="/flink-training/exercises/mailCount.html">DataSet API: Mail Count</a></li>
            <li><a href="/flink-training/exercises/replyGraph.html">DataSet API: Reply Graph Extraction</a></li>
            <li><a href="/flink-training/exercises/tfIdf.html">DataSet API: TF-IDF</a></li>
            <li class="divider"></li>
            <li><a href="/flink-training/exercises/memberOTM.html">Table API: Member of the Month</a></li>
            <li class="divider"></li>
            <li><a href="/flink-training/exercises/mailData.html">Mail Data Set</a></li>
          </ul>
        </li>
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Resources<span class="caret"></span></a>
          <ul class="dropdown-menu" role="menu">
            <li><a href="/flink-training/devResources/docLinks.html">Flink Documentation</a></li>
            <li><a href="/flink-training/devResources/trainingSlides.html">Training Slides</a></li>
            
            <!--
            <li class="divider"></li>
            <li><a href="/flink-training/devResources/bestPractices.html">Best Practices</a></li>
            <li><a href="/flink-training/devResources/tuning.html">Tuning</a></li>
            <li><a href="/flink-training/devResources/exceptionFaq.html">Exception FAQ</a></li>
            -->
          </ul>
        </li>
      </ul>
      <!--
      <ul class="nav navbar-nav navbar-right">
        <li><a href="#">Link</a></li>
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Dropdown <span class="caret"></span></a>
          <ul class="dropdown-menu" role="menu">
            <li><a href="#">Action</a></li>
            <li><a href="#">Another action</a></li>
            <li><a href="#">Something else here</a></li>
            <li class="divider"></li>
            <li><a href="#">Separated link</a></li>
          </ul>
        </li>
      </ul>
    -->
    </div><!-- /.navbar-collapse -->
  </div><!-- /.container-fluid -->
</nav>

    <div class="page-content">
      <div class="wrapper">
        <div class="post">

  <header class="post-header">
    <h1 class="post-title">Local Execution</h1>
  </header>

  <article class="post-content">
    <p>Developing Flink programs in an IDE is comfortable because the programs can be easily executed and debugged. However in order to execute a program on a running Flink system, the program needs to be packaged and submitted. The progress of the executed program can be monitored on Flink’s webinterface.</p>

<p>Here we will show the necessary steps to package, submit, and monitor a Flink program on a local Flink instance. </p>

<h3 id="package-a-program-for-execution">Package a program for execution</h3>

<p>Flink programs are packaged as regular JAR files. A program JAR file must contain all classes, resource files, and libraries that are required to execute the program. Flink’s submission clients identify the entry point of the program, i.e., the class with the <code>main()</code> method, as the class that is defined as <code>Main-Class</code> in the JAR’s <code>MANIFEST.MF</code> like this:</p>

<pre><code>Main-Class: my.program.MainClass
</code></pre>

<p>If no <code>Main-Class</code> is defined in the <code>MANIFEST.MF</code> file or if a JAR file bundles more than one program, Flink’s submission clients also provide an option to specify the class that should be used as a program entry point.</p>

<p>The easiest way to package a Flink program into a JAR is to develop Flink programs based on Flink’s Maven archetypes. Programs that are built on these archetypes and have correctly configured POM files can be compiled and packages into a fat JAR file that includes all dependencies list this:</p>

<pre><code>cd /to/your/program/root/folder
mvn clean package
</code></pre>

<p>The resulting JAR file will be located in the <code>./target/</code> folder.</p>

<h3 id="execute-a-flink-program-using-the-cli-client">Execute a Flink program using the CLI client</h3>

<p>Flink provides different clients to submit a program to a running Flink system including a <a href="http://ci.apache.org/projects/flink/flink-docs-master/apis/cli.html">command-line client</a> (CLI client) and a <a href="http://ci.apache.org/projects/flink/flink-docs-master/apis/web_client.html">web-based client</a>. Given that a local Flink instance is running (<a href="/flink-training/setup.html">see instructions</a>),
a program can be executed using the CLI client as follows:</p>

<pre><code class="language-bash">&gt; ./bin/flink run /path/to/program/jarfile --arg1 val1 --arg2 val2
</code></pre>

<p>If the <code>Main-Class</code> is not specified in the <code>MANIFEST.MF</code> file, you can specify an entry class using the <code>-c</code> parameter:</p>

<pre><code class="language-bash">&gt; ./bin/flink run -c my.main.Class /path/to/program/jarfile --arg1 val1 --arg2 val2
</code></pre>

<p>Further options can be found in the documentation of the <a href="http://ci.apache.org/projects/flink/flink-docs-master/apis/cli.html">CLI client</a>. On Windows, the CLI client is started using the <code>.\bin\flink.bat</code> script.</p>

<p>Executing a Flink program on a <a href="http://ci.apache.org/projects/flink/flink-docs-master/apis/cluster_execution.html">cluster</a> or on a <a href="http://ci.apache.org/projects/flink/flink-docs-master/setup/yarn_setup.html#quickstart-run-a-flink-job-on-yarn">YARN setup</a> is very similar.</p>

<h3 id="monitor-the-execution-of-a-flink-program">Monitor the execution of a Flink program</h3>

<p>The Flink JobManager webinterface at <a href="http://localhost:8081">http://localhost:8081</a> shows the execution of Flink programs, performance metrics of the TaskManagers, and information to analyze the execution time of completed programs.</p>


  </article>

</div>

      
        <!-- Footer -->
        <div class="site-footer text-center">
          <p>Copyright © 2015 <a href="http://data-artisans.com">dataArtisans</a>. All Rights Reserved.</p>

          <p>Apache Flink, Apache, and the Apache feather logo are trademarks of The Apache Software Foundation.</p>
        </div>
      </div>
    </div>

    <!-- Latest compiled and minified JavaScript -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
    
  </body>
</html>
